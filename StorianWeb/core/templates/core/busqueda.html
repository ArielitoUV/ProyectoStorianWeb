{% extends 'core/base.html' %}
{% load static %}
{% block content %}

<link rel="stylesheet" href="{% static 'css/styles-busqueda.css' %}">

<div class="search-container">
    <h2>Busqueda de Lugares Historicos</h2>
    <form method="get">
        {{ form.busqueda.label_tag }}
        {{ form.busqueda }}
        <button type="button" class="btn btn-custom btn-lg" onclick="accederAMapa()">Acceder a Mapa</button>
    </form>
    {% if lugares %}
        <h3>Resultados:</h3>
        <ul>
            {% for lugar in lugares %}
                <li>{{ lugar.nombre }}</li>
            {% endfor %}
        </ul>
    {% endif %}
</div>

<script>
    const searchInput = document.getElementById('id_busqueda');
    let typingTimer;
    const doneTypingInterval = 500; // in milliseconds

    searchInput.addEventListener('input', function() {
        clearTimeout(typingTimer);
        if (searchInput.value) {
            typingTimer = setTimeout(performSearch, doneTypingInterval);
        }
    });

    function performSearch() {
        const searchForm = document.querySelector('form');
        searchForm.submit();
    }
</script>

{% endblock %}
</body>
</html>



<!-- onclick="buscarLugar()" -->

<!--         <button type="submit" class="btn btn-custom btn-lg" >Buscar</button>
        <button type="button" class="btn btn-custom btn-lg" onclick="accederAMapa()">Acceder a Mapa</button>
 -->